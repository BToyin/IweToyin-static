<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Lerongba - Blog sidebar</title>
  <link rel="stylesheet" th:href="@{/vendors/animate.css/animate.min.css}">
  <link rel="stylesheet" th:href="@{/css/style.css}">
  <script src="/vendors/jquery/jquery.min.js"></script>
  <script src="/js/loader.js"></script>
</head>
<body>
    <div th:fragment="blog-sidebar" class="blog-sidebar wow fadeInRight">
      <div class="widget-twitter">
        <h5 class=tweet>"Where you will sit when you are old shows where you stood in youth."</h5>
        <p class="username">Yoruba Proverb</p>
      </div>
      <div class="widget-subscribe">
        <h6 class="widget-tile">SUBSCRIBE</h6>
        <p class="subscribe-text">Hear about new blog posts, significant website updates and most importantly...No Spam!</p>
        <form th:if="${#strings.startsWith(#httpServletRequest.requestURI, '/blog/post')}" class="subscribe-form" id="subscribe-form" action="#" th:action="@{/blog/posts/{id}/subscribe(id=${blogPost.postId})}" th:object="${subscriber}" method="post">
          <p th:if="${error}"  th:text="${error}" class="alert-danger"></p>
          <p th:if="${passed}" th:text="${passed}" class="alert-success"></p>
          <div class="form-group">
            <p  th:if="${#fields.hasErrors('email')}" th:errors="*{email}" th:class="${#fields.hasErrors('email')} ? alert-danger">Invalid Email</p>
            <input type="email" class="form-control" th:field="*{email}" id="email" placeholder="Your email" name="email">
          </div>
          <input class="btn btn-block btn-subscribe" type="submit" value="Subscribe" id="submit-subscribe-form">
        </form>
        <form th:unless="${#strings.startsWith(#httpServletRequest.requestURI, '/blog/post')}" class="subscribe-form" action="#" th:action="@{/blog/subscribe}" th:object="${subscriber}" method="post">
          <p th:if="${error}"  th:text="${error}" class="alert-danger"></p>
          <p th:if="${passed}" th:text="${passed}" class="alert-success"></p>
          <div class="form-group">
            <p  th:if="${#fields.hasErrors('email')}" th:errors="*{email}" th:class="${#fields.hasErrors('email')} ? alert-danger">Invalid Email</p>
            <input type="email" class="form-control" th:field="*{email}" placeholder="Your email" name="email">
          </div>
          <input class="btn btn-block btn-subscribe" type="submit" value="Subscribe">
        </form>
      </div>
      <div class="widget-posts">
        <h6 class="widget-title">LATEST BLOG POSTS</h6>
        <div class="media blog-post" th:each="blogPost: ${latest5BlogPosts}">
          <img th:src="@{'/images/blogPhotos/' + ${blogPost.photoFileName}}" alt="blog sidebar" class="post-thumbnail">
          <div class="media-body align-self-center">
            <a th:href="@{/blog/posts/{id}(id=${blogPost.postId})}" class="load-more-link link-hover-fx">
              <h6 class="post-title" th:text="${blogPost.title}"></h6>
            </a>
          </div>
        </div>
      </div>
    </div>
</body>
</html>